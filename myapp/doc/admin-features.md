# 管理・運営機能詳細

本ドキュメントは、CtoCサイト「grand-market」の健全な運営を維持するための管理機能について定義します。

## 1. 機能一覧

- **管理者ダッシュボード**
  - サイト全体の状況を概観するためのダッシュボード。
  - 新規登録ユーザー数、出品数、取引数などの主要KPIを表示。

- **ユーザー管理機能**
  - 管理者がユーザー情報を検索・閲覧する機能。
  - 不正利用が疑われるユーザーのアカウントを一時停止または削除する権限を持つ。
  - **API (Admin-only):**
    - `GET /api/admin/users`: ユーザー一覧を取得
    - `GET /api/admin/users/{userId}`: ユーザー詳細情報を取得
    - `PUT /api/admin/users/{userId}/status`: ユーザーステータス（有効、停止中など）を更新

- **コンテンツモデレーション**
  - 不適切な商品やプロフィール内容を監視し、必要に応じて削除する機能。
  - ユーザーからの違反報告機能と連携する。
  - **API (Admin-only):**
    - `GET /api/admin/products/reported`: 違反報告された商品一覧を取得
    - `DELETE /api/admin/products/{productId}`: 商品を強制的に削除

- **取引監視**
  - トラブルが発生している取引を監視し、介入する機能。
  - 例えば、支払い後に発送されない、商品が届かないなどのケースに対応。
  - **API (Admin-only):**
    - `GET /api/admin/transactions`: 全ての取引を検索・一覧表示
    - `PUT /api/admin/transactions/{transactionId}/status`: 取引ステータスを強制的に変更（キャンセルなど）

- **お知らせ・通知機能**
  - サイト全体、または特定のユーザーに対してお知らせを通知する機能。

## 2. 権限管理

- 管理機能へのアクセスは、特定のロール（例: `ROLE_ADMIN`）を持つユーザーに限定する。
- APIエンドポイントは `/api/admin/**` のようなパスで区切り、Spring Security等でアクセス制御を行う。

## 3. 実装タスク（例）

1.  管理者用の権限（ロール）を実装。
2.  管理者向けAPIのエンドポイントと、それに対応するコントローラー・サービスを作成。
3.  ユーザー管理、商品管理などの基本的なCRUD機能を実装。
4.  フロントエンドで、これらの機能を利用するための専用の管理画面を作成。

これで、計画書で定義したすべての機能詳細ファイルが作成されました。
ご確認のほど、よろしくお願いいたします。
